  - platform: template
    switches: 
      gateway:
        value_template: > 
            {% if is_state('switch.gateway','on') %}
              false
            {% endif %}
        turn_on: 
          service: remote.send_command
          data:
            entity_id: remote.0x588e81fffedac58f_pair
            command: reboot
        turn_off:
      netflix:
        value_template: >
          {% if is_state('sensor.media_source','Netflix') %}
            true
          {% else %}
            false
          {% endif %}
        turn_on:
          
          - service: media_player.select_source
            data:
              entity_id: media_player.lg_webos_smart_tv
              source: Netflix
        turn_off:
      prime:
        value_template: >
          {% if is_state('sensor.media_source','Amazon Prime Video') %}
             true
          {% else %}
            false
          {% endif %}
        turn_on:
          - service: media_player.select_source
            data:
              entity_id: media_player.lg_webos_smart_tv
              source: 'Amazon Prime Video'
        turn_off:
      live_tv:
        value_template: >
          {% if is_state('sensor.media_source','Live TV') %}
            true
          {% else %}
            false
          {% endif %}
        turn_on:
          - service: media_player.select_source
            data:
              entity_id: media_player.lg_webos_smart_tv
              source: 'Live TV'
        turn_off:
      now:
        value_template: >
          {% if is_state('sensor.media_source','NOW TV') %}
             true
          {% else %}
            false
          {% endif %}
        turn_on:
          
          - service: media_player.select_source
            data:
              entity_id: media_player.lg_webos_smart_tv
              source: 'NOW TV'
        turn_off:
      you_tube:
        value_template: >
          {% if is_state('sensor.media_source','YouTube') %}
             true
          {% else %}
            false
          {% endif %}
        turn_on:
          - service: media_player.select_source
            data:
              entity_id: media_player.lg_webos_smart_tv
              source: 'YouTube'
        turn_off:
      browser:
        value_template: >
          {% if is_state('sensor.media_source','Web Browser') %}
             true
          {% else %}
            false
          {% endif %}
        turn_on:
          - service: media_player.select_source
            data:
              entity_id: media_player.lg_webos_smart_tv
              source: 'Web Browser'
        turn_off:
      iplayer:
        value_template: >
          {% if is_state('switch.iplayer','on') %}
            false
          {% endif %}
        turn_on:
          - service: media_player.select_source
            data:
              entity_id: media_player.lg_webos_smart_tv
              source: 'BBC iPlayer'
        turn_off:
      
      dvd:
        value_template: >
          {% if is_state('switch.dvd','on') %}
            false
          {% endif %}
        turn_on:
          - service: media_player.select_source
            data:
              entity_id: media_player.lg_webos_smart_tv
              source: 'Blu-ray Player'
        turn_off:
      dark:
        value_template: >
          {% if is_state('sensor.light_state','Dark') %}
            true
          {% endif %}
        turn_on:
          - service: script.dark
        turn_off: 
          - service: light.turn_off
            data:
              entity_id: light.all_living_room
      relaxed:
        value_template: >
          {% if is_state('sensor.light_state','Relaxed') %}
            true
          {% endif %}
        turn_on:
          - service: script.relaxed
        turn_off: 
          - service: light.turn_off
            data:
              entity_id: light.all_living_room
      bright:
        value_template: >
          {% if is_state('sensor.light_state','Bright') %}
            true
          {% endif %}
        turn_on:
          - service: script.bright
        turn_off: 
          - service: light.turn_off
            data:
              entity_id: light.all_living_room
      bbc1:
        friendly_name: BBC 1
        value_template: >
          {% if is_state('switch.bbc1','on') %}
            false
          {% endif %} 
        turn_on:
          - service: script.tvchannel
            data:
              channel: "BBC ONE HD"
        turn_off:
      bbc2:
        friendly_name: BBC 2
        value_template: >
          {% if is_state('switch.bbc2','on') %}
            false
          {% endif %} 
        turn_on:
          - service: script.tvchannel
            data:
              channel: "BBC TWO HD"
        turn_off:
      itv1:
        friendly_name: ITV 1
        value_template: >
          {% if is_state('switch.itv1','on') %}
            false
          {% endif %} 
        turn_on:
          - service: script.tvchannel
            data:
              channel: "ITV HD"
        turn_off:
      ch_4:
        friendly_name: Channel 4
        value_template: >
          {% if is_state('switch.ch_4','on') %}
            false
          {% endif %} 
        turn_on:
          - service: script.tvchannel
            data:
              channel: "Channel 4 HD"
        turn_off:
      ch_5:
        friendly_name: Channel 5
        value_template: >
          {% if is_state('switch.ch_4','on') %}
            false
          {% endif %} 
        turn_on:
          - service: script.tvchannel
            data:
              channel: "Channel 5 HD"
        turn_off:
      bbc4:
        friendly_name: BBC 4
        value_template: >
          {% if is_state('switch.bbc4','on') %}
            false
          {% endif %} 
        turn_on:
          - service: script.tvchannel
            data:
              channel: "BBC FOUR HD"
        turn_off:
      bbc_news:
        friendly_name: BBC News
        value_template: >
          {% if is_state('switch.bbc_news','on') %}
            false
          {% endif %} 
        turn_on:
          - service: script.tvchannel
            data:
              channel: "BBC NEWS HD"
        turn_off:
      quest:
        friendly_name: Quest
        value_template: >
          {% if is_state('switch.quest','on') %}
            false
          {% endif %} 
        turn_on:
          - service: script.tvchannel
            data:
              channel: "QUEST HD"
        turn_off:
      
      
        
        
        
        
